# 배달킹 관리자 기능 설정 가이드

## 1. 데이터베이스 테이블 생성

관리자 기능을 사용하기 위해서는 먼저 필요한 테이블들을 생성해야 합니다.

### Supabase SQL Editor에서 실행

1. Supabase 대시보드로 이동
2. SQL Editor 메뉴 선택
3. `database/admin_tables.sql` 파일의 내용을 복사하여 실행

또는 아래 명령어로 직접 실행:

```sql
-- database/admin_tables.sql 파일 내용을 실행하세요
```

## 2. 관리자 권한 설정

사용자를 관리자로 지정하려면:

```sql
UPDATE users 
SET role = 'admin' 
WHERE email = 'your-admin-email@example.com';
```

## 3. 관리자 페이지 접속

1. 관리자 계정으로 로그인
2. `/admin` 페이지로 이동
3. 관리자 대시보드 확인

## 4. 주요 기능

### 사용자 관리
- 사용자 추가/삭제
- 권한 변경 (일반/관리자)
- 포인트 지급
- 배달 기록 확인

### 배달 기록 관리
- 인증 승인/반려
- 기록 삭제
- 상세 정보 확인

### 대시보드
- 실시간 통계
- 업로드 트렌드
- 플랫폼별 실적
- 지역별 TOP 5

### 기타 기능
- 포인트 관리
- 랭킹 관리
- 부정행위 감지
- 시스템 설정

## 5. 트러블슈팅

### "fraud_records" 테이블이 없다는 에러
`database/admin_tables.sql` 파일을 실행하여 테이블을 생성하세요.

### 관리자 페이지 접근 불가
1. 사용자의 role이 'admin'인지 확인
2. 로그인 상태 확인
3. 브라우저 캐시 삭제 후 재시도

## 6. 보안 주의사항

- 관리자 계정은 신중하게 관리
- 정기적인 비밀번호 변경
- 불필요한 관리자 권한 제거
- 민감한 작업은 로그 확인 