# 친구 초대 시스템 구현 가이드

## 개요
친구 초대 시스템은 사용자가 친구를 초대하면 양쪽 모두에게 포인트를 지급하는 기능입니다.

## 포인트 정책
- **초대한 사용자**: 500P
- **초대받은 사용자**: 300P

## 구현 내용

### 1. 데이터베이스 구조
```sql
-- invite_codes 테이블: 사용자별 고유 초대 코드 저장
-- invites 테이블: 초대 관계 및 이력 저장
```

### 2. 초대 프로세스
1. 사용자가 "친구 초대하기" 버튼 클릭
2. 고유 초대 코드 생성 (없으면 새로 생성)
3. 카카오톡으로 초대 링크 공유: `https://baedalrank.com?invite={초대코드}`
4. 친구가 링크 클릭하여 가입
5. 가입 완료 시 양쪽에 포인트 자동 지급

### 3. 주요 파일
- `/src/services/inviteService.ts` - 초대 코드 생성/검증 로직
- `/src/services/kakaoShare.ts` - 카카오톡 공유 기능
- `/src/app/page.tsx` - 메인 페이지 초대 버튼
- `/src/app/login/page.tsx` - 초대 코드 받기
- `/src/app/auth/kakao/callback/page.tsx` - 초대 코드 처리

### 4. 보안 사항
- 한 사용자는 한 번만 초대받을 수 있음
- 초대 코드는 사용자별로 고유함
- 자기 자신을 초대할 수 없음

### 5. 데이터베이스 설정
`database/invite_tables.sql` 파일의 SQL을 Supabase SQL Editor에서 실행하세요.

## 사용 방법
1. 로그인한 사용자가 메인 페이지에서 "친구 초대하기" 클릭
2. 카카오톡으로 자동 생성된 초대 링크 공유
3. 친구가 링크를 통해 가입하면 자동으로 포인트 지급

## 주의사항
- 초대 코드는 대소문자를 구분합니다
- 이미 가입한 사용자는 초대 코드를 사용할 수 없습니다
- 포인트는 가입 즉시 자동 지급됩니다 